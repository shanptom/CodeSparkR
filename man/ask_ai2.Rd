% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ask_ai2.R
\name{ask_ai2}
\alias{ask_ai2}
\title{Ask AI Model with Memory and Context}
\usage{
ask_ai2(
  prompt,
  model = NULL,
  context_files = NULL,
  save_to_file = FALSE,
  filename = NULL,
  format_output = TRUE,
  return_cleaned = TRUE,
  custom_timeout = NULL,
  open_file = FALSE,
  use_context = TRUE,
  system_prompt = NULL,
  role = "user"
)
}
\arguments{
\item{prompt}{Character. The prompt or instruction for the model.}

\item{model}{Optional character. The model name. Prompts interactively if NULL.}

\item{context_files}{Optional character vector. File paths to one or more context files.}

\item{save_to_file}{Logical. If TRUE, saves the output to a .Rmd file. Default is FALSE.}

\item{filename}{Optional character. Filename to save the output if \code{save_to_file = TRUE}.}

\item{format_output}{Logical. Whether to clean and print the response to console. Default is TRUE.}

\item{return_cleaned}{Logical. If TRUE, returns cleaned text. If FALSE, returns raw output. Default is TRUE.}

\item{custom_timeout}{Optional numeric. Timeout in seconds. Auto-computed if NULL.}

\item{open_file}{Logical. Whether to open the Rmd file after saving (interactive mode only). Default is FALSE.}

\item{use_context}{Logical. Whether to include persistent context set via set_context(). Default is TRUE.}

\item{system_prompt}{Optional character. System prompt to prepend to the conversation.}

\item{role}{Character. Role for the current message ("user", "assistant", "system"). Default is "user".}
}
\value{
Invisibly returns the model response as a character string (cleaned or raw based on \code{return_cleaned}).
}
\description{
Sends a prompt to an AI model using the OpenRouter API with persistent conversation memory.
This function maintains chat history across calls and supports the same features as ask_ai().
}
